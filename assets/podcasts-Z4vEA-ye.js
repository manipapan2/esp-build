import{r as c,j as t,P as p,b as d}from"./index-rHpoA5PS.js";import{a as u}from"./axios-IkzXrfrG.js";function E(){const[o,l]=c.useState([]),g="http://localhost:3005/api/contents/get",[i,m]=c.useState([1,3]);return c.useEffect(()=>{const e=document.getElementById("podcastLoaderContainer");new IntersectionObserver(a=>{a.forEach(s=>{s.isIntersecting&&(console.log("seen"),m(n=>n.map(f=>f+3)))})}).observe(e)},[]),c.useEffect(()=>{const e=document.getElementById("podcastLoaderContainer");(async()=>{try{const a=`${g}?limitFrom=${i[0]}&limitTo=${i[1]}`,s=await u.get(a);s.data.length!==0?l(n=>[...n,...s.data]):e.style.display="none",console.log(s.data)}catch(a){console.error("Error fetching data:",a)}})()},[i]),c.useEffect(()=>{const e=document.querySelectorAll(".package"),r=new IntersectionObserver(a=>{a.forEach((s,n)=>{s.isIntersecting&&setTimeout(()=>{s.target.classList.add("nonestyle")},n*200)})});e.forEach(a=>{r.observe(a)})},[o]),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"podcastsContainer",children:Array.isArray(o)&&o.length>0?o.map((e,r)=>t.jsx(p,{title:e.Title||"",backgroundImage:e.ImageURL||"",category:e.Category||"",text:e.Text||"",margin:40,PlayNumber:e.PlayNumber,status:o},r)):t.jsxs(t.Fragment,{children:[t.jsx(d,{}),t.jsx(d,{}),t.jsx(d,{})]})}),t.jsx("div",{className:"podcastLoaderContainer",id:"podcastLoaderContainer",children:"Loading..."})]})}export{E as default};
