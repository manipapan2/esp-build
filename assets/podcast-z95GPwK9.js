import{c as d,i as u,j as t,u as R,d as S,r as n,e as B}from"./index-rHpoA5PS.js";var p={},w=u;Object.defineProperty(p,"__esModule",{value:!0});var T=p.default=void 0,k=w(d()),z=t;T=p.default=(0,k.default)((0,z.jsx)("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause");var m={},L=u;Object.defineProperty(m,"__esModule",{value:!0});var I=m.default=void 0,q=L(d()),x=t;I=m.default=(0,q.default)([(0,x.jsx)("path",{d:"M18 13c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6v4l5-5-5-5v4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8z"},"0"),(0,x.jsx)("path",{d:"M10.86 15.94v-4.27h-.09L9 12.3v.69l1.01-.31v3.26zm1.39-2.5v.74c0 1.9 1.31 1.82 1.44 1.82.14 0 1.44.09 1.44-1.82v-.74c0-1.9-1.31-1.82-1.44-1.82-.14 0-1.44-.09-1.44 1.82m2.04-.12v.97c0 .77-.21 1.03-.59 1.03s-.6-.26-.6-1.03v-.97c0-.75.22-1.01.59-1.01.38-.01.6.26.6 1.01"},"1")],"Forward10");var v={},F=u;Object.defineProperty(v,"__esModule",{value:!0});var E=v.default=void 0,H=F(d()),j=t;E=v.default=(0,H.default)([(0,j.jsx)("path",{d:"M11.99 5V1l-5 5 5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6h-2c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"},"0"),(0,j.jsx)("path",{d:"M10.89 16h-.85v-3.26l-1.01.31v-.69l1.77-.63h.09zm4.28-1.76c0 .32-.03.6-.1.82s-.17.42-.29.57-.28.26-.45.33-.37.1-.59.1-.41-.03-.59-.1-.33-.18-.46-.33-.23-.34-.3-.57-.11-.5-.11-.82v-.74c0-.32.03-.6.1-.82s.17-.42.29-.57.28-.26.45-.33.37-.1.59-.1.41.03.59.1.33.18.46.33.23.34.3.57.11.5.11.82zm-.85-.86c0-.19-.01-.35-.04-.48s-.07-.23-.12-.31-.11-.14-.19-.17-.16-.05-.25-.05-.18.02-.25.05-.14.09-.19.17-.09.18-.12.31-.04.29-.04.48v.97c0 .19.01.35.04.48s.07.24.12.32.11.14.19.17.16.05.25.05.18-.02.25-.05.14-.09.19-.17.09-.19.11-.32.04-.29.04-.48v-.97z"},"1")],"Replay10");function O(){const{id:y}=R(),h=S(),[r,N]=n.useState(null),_="http://localhost:3005/api/contents/get",[c,f]=n.useState(!1);n.useEffect(()=>{fetch(`${_}/${y}`).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{N(e),console.log(e)}).catch(e=>{console.error("Error fetching podcastData:",e),h("/404",{replace:!0})})},[y,h]);let i;n.useEffect(()=>{const e=document.getElementById("audio"),o=document.getElementById("progress");return e&&e.src&&c?(e.play(),i=setInterval(()=>{const s=Math.floor(e.currentTime),a=g(s);podcastCurrentTime.innerHTML=a,console.log(Math.floor(e.currentTime*100/e.duration)),o.style.width=e.currentTime*100/e.duration+"%"},500)):e&&e.src?(e.pause(),clearInterval(i),console.log("Cleared")):console.log("Audio Not Loaded"),()=>{clearInterval(i)}},[c]);const C=()=>{const e=document.getElementById("podcastContainer"),o=document.getElementById("audioPlayerContainer"),s=document.getElementById("audioPlayerTitle"),a=o.offsetTop+o.offsetHeight;e.scrollTop>a?(s.style.display="none",o.style.position="fixed",o.style.top="80px",o.style.width="100%",o.style.backgroundColor="black",o.style.borderRadius="0",o.style.zIndex="4"):(s.style.display="flex",o.style.position="relative",o.style.top="0",o.style.width="400px",o.style.backgroundColor="#2F2D2D",o.style.borderRadius="0 10px 0 0",o.style.zIndex="2")},D=()=>{const e=document.getElementById("progressDot");e.style.scale="1"},b=()=>{const e=document.getElementById("progressDot");e.style.scale="0"};function g(e){const o=Math.floor(e/60),s=Math.round(e)%60,a=o<10?`0${o}`:`${o}`,$=s<10?`0${s}`:`${s}`;return`${a}:${$}`}const l=()=>{const e=document.getElementById("audio");document.getElementById("podcastCurrentTime");const o=document.getElementById("podcastWholeTime"),s=g(e.duration);o.innerHTML=s},M=()=>{const e=document.getElementById("audio"),o=e.currentTime;e.currentTime=o-10,l()},P=()=>{const e=document.getElementById("audio"),o=e.currentTime;e.currentTime=o+10,l()};return r?t.jsx("div",{className:"podcast-container",id:"podcastContainer",onScroll:C,children:t.jsxs("div",{className:"podcast-content-container",children:[t.jsxs("div",{className:"audio-player-container",id:"audioPlayerContainer",children:[t.jsx("h1",{className:"audio-player-title",id:"audioPlayerTitle",children:r.Title||"Loading"}),t.jsx("audio",{className:"audio",id:"audio",src:r.ContentURL||"#",type:"audio/mp3",onPlay:l,onPause:()=>f(!1)}),t.jsxs("div",{className:"audio-player",children:[t.jsxs("div",{className:"audio-progress-container",onMouseEnter:D,onMouseLeave:b,children:[t.jsx("span",{className:"podcast-time current-time",id:"podcastCurrentTime",children:"00:00"}),t.jsx("div",{className:"progress-container",children:t.jsx("div",{className:"progress",id:"progress",children:t.jsx("div",{className:"progressDot",id:"progressDot"})})}),t.jsx("span",{className:"podcast-time whole-time",id:"podcastWholeTime",children:"1:02"})]}),t.jsxs("div",{className:"audio-buttons-container",children:[t.jsx("button",{className:"play-btn",onClick:M,children:t.jsx(E,{id:"playIcon"})}),t.jsx("button",{className:"play-btn",onClick:()=>f(e=>!e),children:c?t.jsx(T,{id:"playIcon"}):t.jsx(B,{id:"playIcon"})}),t.jsx("button",{className:"play-btn",onClick:P,children:t.jsx(I,{id:"playIcon"})})]})]})]}),t.jsx("div",{className:"podcast",children:t.jsxs("div",{className:"content-container",children:[t.jsx("h2",{children:"Description"}),t.jsx("p",{children:r.Description||""})]})})]})}):t.jsx("div",{children:"Loading..."})}export{O as default};
